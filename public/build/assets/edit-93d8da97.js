import{T as k,Q as y,o as n,f as m,a as e,u as a,w as p,F as v,Z as C,b as t,t as D,i as U,e as f,k as $,v as B,j as N,g as j,n as A,d as P}from"./app-ae2ccdd3.js";import{_ as S}from"./AuthenticatedLayout-d00bae49.js";import{_ as i,a as d,b as _}from"./TextInput-a4ff7a18.js";import{P as T}from"./PrimaryButton-026ca9d8.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"py-12 bg-gray"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-gray-700 overflow-hidden shadow-sm max-w-2xl py-4 mx-auto sm:px-6 lg:px-4"},z={class:"flex justify-between items-center"},L={class:"font-bold text-lg text-white"},O={class:"flex space-x-2"},Q=t("img",{src:"/img/Close_round.png",alt:"Отмена",class:"block h-10 w-auto m-auto"},null,-1),Z=t("option",{value:"available"},"Доступен",-1),q=t("option",{value:"unavailable"},"Недоступен",-1),G=[Z,q],H={class:"ml-4"},I=["onClick"],J=t("img",{src:"/img/Trash.png",alt:"-",class:"block h-10 w-auto m-auto"},null,-1),K=[J],R={class:"flex float-left"},st={__name:"edit",props:{product:{type:Object}},setup(x){const o=x,s=k({article:o.product.article,name:o.product.name,status:o.product.status,attributesData:o.product.data?o.product.data:{attributes:[]}}),{user:h}=y().props,w=()=>{s.attributesData.attributes.push({name:"",value:""})},g=c=>{s.attributesData.attributes.splice(c,1)},V=()=>{s.post(route("products.update",o.product.id))};return(c,u)=>(n(),m(v,null,[e(a(C),{title:"Edit Product"}),e(S,null,{default:p(()=>[t("div",E,[t("div",F,[t("div",M,[t("div",z,[t("h3",L,"Редактировать "+D(o.product.name),1),t("div",O,[e(a(U),{href:c.route("products"),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mx-1"},{default:p(()=>[Q]),_:1},8,["href"])])]),t("form",{onSubmit:f(V,["prevent"]),class:"max-w-md flex flex-col"},[t("div",null,[e(i,{for:"article",value:"Артикул",class:"text-white mt-6"}),e(d,{id:"article",type:"text",class:"mt-1 block w-full",modelValue:a(s).article,"onUpdate:modelValue":u[0]||(u[0]=l=>a(s).article=l),disabled:a(h).isAdmin===!1,autofocus:""},null,8,["modelValue","disabled"]),e(_,{class:"mt-2",message:a(s).errors.article},null,8,["message"])]),t("div",null,[e(i,{for:"name",value:"Название",class:"text-white mt-6"}),e(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a(s).name,"onUpdate:modelValue":u[1]||(u[1]=l=>a(s).name=l),autofocus:""},null,8,["modelValue"]),e(_,{class:"mt-2",message:a(s).errors.name},null,8,["message"])]),t("div",null,[e(i,{for:"status",value:"Статус",class:"text-white mt-6"}),$(t("select",{id:"status",class:"mt-1 block w-full","onUpdate:modelValue":u[2]||(u[2]=l=>a(s).status=l),autofocus:""},G,512),[[B,a(s).status]]),e(_,{class:"mt-2",message:a(s).errors.status},null,8,["message"])]),t("div",null,[e(i,{for:"attributes",value:"Атрибуты",class:"text-white mt-3 mb-5"}),t("div",null,[a(s).attributesData?(n(!0),m(v,{key:0},N(a(s).attributesData.attributes,(l,b)=>(n(),m("div",{key:b,class:"flex items-center mb-4"},[t("div",null,[e(i,{for:"attributes",value:"Название",class:"text-white"}),e(d,{modelValue:l.name,"onUpdate:modelValue":r=>l.name=r,type:"text",class:"mt-1 block w-full",placeholder:"Название"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",H,[e(i,{for:"attributes",value:"Значение",class:"text-white"}),e(d,{modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,type:"text",class:"mt-1 block w-full",placeholder:"Значение"},null,8,["modelValue","onUpdate:modelValue"])]),t("button",{onClick:f(r=>g(b),["prevent"]),class:"ml-2 text-red-500 mt-6"},K,8,I)]))),128)):j("",!0)]),t("button",{onClick:f(w,["prevent"]),class:"mt-2 text-blue-400"},"+ Добавить атрибут")]),t("div",R,[e(T,{class:A(["w-42 my-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing},{default:p(()=>[P(" Сохранить ")]),_:1},8,["class","disabled"])])],32)])])])]),_:1})],64))}};export{st as default};
